[pytest]
# Marker-related configurations (commented, can be enabled when needed)
;-m 'not smock'        # Exclude test cases marked as smock when running
;-m 'smock or P0'      # Execute only test cases marked as smock or P0 when running
;-n 2 --dist=loadfile  # Enable multi-process parallel execution (requires pytest-xdist plugin)

# Test execution parameter configuration
# -s: Display print output in test functions for debugging
# -v: Display detailed test result information
# --alluredir report/data: Specify Allure report data output directory as report/data
# --clean-alluredir: Clean old Allure data before generating new reports to avoid data pollution
addopts = -sv --alluredir report/data --clean-alluredir

# Test file path configuration
# Specify the directory for pytest to scan test cases, set to testcase directory
testpaths = ./testcase/Testscenario/test_02.py

# Python class naming convention configuration
# Specify that all classes starting with "Test" will be recognized as test classes
python_classes = Test*

# Python function naming convention configuration
# Specify that all functions starting with "test_" will be recognized as test functions
python_functions = test_*

# Command line logging configuration
# Enable command line log output, logs will be displayed in console when testing
log_cli = True

# Log format configuration
# Define log output format, including the following information:
# %(asctime)s - Timestamp
# %(levelname)s - Log level
# %(name)s - Logger name
# %(filename)s - File name
# %(funcName)s:%(lineno)d - Function name and line number
# %(message)s - Log message
log_format = %(asctime)s %(levelname)s [%(name)s] [%(filename)s] [%(funcName)s:%(lineno)d] - %(message)s

# Log date format configuration
# Define timestamp format in logs as "Year-Month-Day Hour:Minute:Second"
log_date_format = %Y-%m-%d %H:%M:%S

# Test marker definition
# Mock test marker, used to identify test cases under mock environment
# Priority 0 marker (highest priority), used to identify core function tests
# Priority 1 marker (secondary priority), used to identify important function tests
markers =
    smock
    P0
    P1